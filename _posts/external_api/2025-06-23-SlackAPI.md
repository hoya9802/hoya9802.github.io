---
layout: single
title:  "FastAPIì™€ Slack APIë¥¼ í™œìš©í•œ ì‹¤ì‹œê°„ Slack ì•Œë¦¼ ì‹œìŠ¤í…œ êµ¬ì¶•"
typora-root-url: ../
categories: API
tag: [API, Slack, FastAPI]
author_profile: false
sidebar:
    nav: 'counts'
search: true
use_math: false
redirect_from:
  - /API/Slack
published: true
---

## FastAPIì™€ Slackìœ¼ë¡œ ì•Œë¦¼ ë´‡ì„ ë§Œë“  ì´ìœ 

ìµœê·¼ íšŒì‚¬ í”„ë¡œì íŠ¸ì—ì„œ íŠ¹ì • ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ ë•Œ ì‹¤ì‹œê°„ìœ¼ë¡œ ì•Œë¦¼ì„ ë°›ì„ ìˆ˜ ìˆëŠ” ì‹œìŠ¤í…œì´ í•„ìš”í–ˆìŠµë‹ˆë‹¤. ê¸°ì¡´ ì´ë©”ì¼ ì•Œë¦¼ì€ ë°˜ì‘ì´ ëŠë ¸ê³ , Slackì„ ë§ì´ ì‚¬ìš©í•˜ëŠ” ìš°ë¦¬ íŒ€ íŠ¹ì„±ìƒ Slack ì•Œë¦¼ ë´‡ì´ ë” ì í•©í•˜ë‹¤ê³  íŒë‹¨í–ˆìŠµë‹ˆë‹¤.

ì´ ê¸€ì—ì„œëŠ” Slack APIë¥¼ í™œìš©í•´ ì•Œë¦¼ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê³ , FastAPIì—ì„œ í•´ë‹¹ ê¸°ëŠ¥ì„ ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ê³¼ì •ì„ ì •ë¦¬í•´ ë³´ì•˜ìŠµë‹ˆë‹¤.


## êµ¬í˜„ ë°©ë²•

### 1. Slack ì•± ìƒì„± ë° ì„¤ì •

Slack APIë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” Slack ì•±ì„ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤.

[ì—¬ê¸°](https://api.slack.com/)ë¥¼ ëˆŒëŸ¬ ìš°ì¸¡ ìƒë‹¨ì— Your appsë¥¼ ëˆŒëŸ¬ì£¼ì„¸ìš”.

<h4>Create New App ì„ íƒ</h4>

![ìƒˆ ì•±](https://drive.google.com/thumbnail?id=126sCnJP9aRZV8vEVfMZg2_jzZbZmcMdP&sz=w600){: .align-center}

<h4>From scratch ì„ íƒ</h4>

![ìƒˆ ì•±](https://drive.google.com/thumbnail?id=1TqFiEAcqu9FOSGQjiNlf8n3C8nNaY6MK&sz=w600){: .align-center}

<h4>ì›í•˜ëŠ” App Name ì„ ì…ë ¥í•œ ë’¤, ì‚¬ìš©í•  ì›Œí¬ìŠ¤í˜ì´ìŠ¤ë¥¼ ì„ íƒí•˜ê³  Create App ë²„íŠ¼ì„ ëˆŒëŸ¬ ì•±ì„ ìƒì„±</h4>

![ìƒˆ ì•±](https://drive.google.com/thumbnail?id=1kBJRq15hgnN3L6OuD9pW4ZeVoLvsUnWa&sz=w600){: .align-center}

### 2. Scope ê¶Œí•œ ì„¤ì •

<h4>OAuth & Permissions ì„ íƒ</h4>

![ìƒˆ ì•±](https://drive.google.com/thumbnail?id=1dOkzKZPK8f0_SvGc_3egm8wscaMrLmwY&sz=w600){: .align-center}

<h4>Bot Token Scopesì—ì„œ chat:write ì¶”ê°€</h4>

![ìƒˆ ì•±](https://drive.google.com/thumbnail?id=1PL8oLOeUH2gA-uL9qiKXS7ojcZmg2ju2&sz=w600){: .align-center}

### 3. Slack Bot ìƒì„±

<h4>App Home í´ë¦­ í›„, Edit í´ë¦­</h4>

![ìƒˆ ì•±](https://drive.google.com/thumbnail?id=1xBOqc1IOf_qMfQ7U_AqsmaFwo-Uw-eF7&sz=w600){: .align-center}

<h4>Display Name, Default username ì„¤ì •</h4>

![ìƒˆ ì•±](https://drive.google.com/thumbnail?id=1TEfmTaWchboL66s2Kjhb0DAxtwff3XBd&sz=w600){: .align-center}

<h4>Message Tab í™œì„±í™”</h4>

![ìƒˆ ì•±](https://drive.google.com/thumbnail?id=1HHfybMOnVFG_qkPwmIIMFwDdoJbgjBln&sz=w600){: .align-center}

### 4. App-Level Token ë°œê¸‰

<h4>Settings -> Basic Information ì„ íƒ í›„, Generate Token and Scopes ì„ íƒ</h4>

![ìƒˆ ì•±](https://drive.google.com/thumbnail?id=1WnnTKBFfQ9VpmJzy79WFHVS_4cp5fC71&sz=w600){: .align-center}

<h4>Token ì´ë¦„ ì„¤ì •í•œ í›„, ë‹¤ìŒê³¼ ê°™ì´ ê¶Œí•œ ì¶”ê°€í•˜ê³  Generate ë²„íŠ¼ì„ í´ë¦­</h4>

![ìƒˆ ì•±](https://drive.google.com/thumbnail?id=1mS89rZKFxpRt2xekgySqVju27wCsE7M4&sz=w600){: .align-center}

<h4>Token í™•ì¸</h4>

![ìƒˆ ì•±](https://drive.google.com/thumbnail?id=1Lx4pcrhNfvySeGpd15jeWJhZ_LgE5qoh&sz=w600){: .align-center}

### 5. Socket Mode í™œì„±í™”

<h4>Settingsì— Socket Modeë¥¼ ëˆ„ë¥¸ ë’¤, Enable Socket Mode í™œì„±í™”</h4>

![ìƒˆ ì•±](https://drive.google.com/thumbnail?id=19duhFuAMx-BgTU3hO3vfzhk6pmtW9oUU&sz=w600){: .align-center}

### 6. APP ìŠ¹ì¸ ìš”ì²­

<h4>Settingsì— Install App ì„ íƒí›„, Install to ìƒˆ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì„ íƒ</h4>

![ìƒˆ ì•±](https://drive.google.com/thumbnail?id=187yig1xq6qAz82udGbVdS46dFP-DqWRy&sz=w600){: .align-center}

<h4>í—ˆìš© ì„ íƒ</h4>

![ìƒˆ ì•±](https://drive.google.com/thumbnail?id=1PzkygxUg3DUzxUDs-gZiXdkD-dDLT8fH&sz=w600){: .align-center}

### 7. Token ì¤€ë¹„

Slackìœ¼ë¡œ ì•Œë¦¼ì„ ë³´ë‚´ê¸° ìœ„í•´ì„œëŠ” ì•„ë˜ì˜ ì„¸ ê°€ì§€ í† í°ì´ í•„ìš”í•©ë‹ˆë‹¤.

 * SLACK_SIGNING_SECRET
 * SLACK_BOT_TOKEN
 * SLACK_APP_TOKEN

<h4>SLACK_SIGNING_SECRET í™•ì¸ ë°©ë²•</h4>

![ìƒˆ ì•±](https://drive.google.com/thumbnail?id=1y39pPAw9Jmr0ARcnH3yVk73zUZV7zy2d&sz=w600){: .align-center}

<h4>SLACK_BOT_TOKEN í™•ì¸ ë°©ë²•</h4>

![ìƒˆ ì•±](https://drive.google.com/thumbnail?id=1POhjSqk1KFU4rryWdLSXoh5kixTOeUPC&sz=w600){: .align-center}

![ìƒˆ ì•±](https://drive.google.com/thumbnail?id=1yVQzSJwqY4hTnHsBarFyUKw4QFhH3UDt&sz=w600){: .align-center}

<h4>SLACK_APP_TOKEN í™•ì¸ ë°©ë²•</h4>

![ìƒˆ ì•±](https://drive.google.com/thumbnail?id=144-D9M6FHkMbPtRhTCO3_bRIwgyKNfgT&sz=w600){: .align-center}

## Code

<h4>Slack ì•Œë¦¼ ì „ì†¡ ëª¨ë“ˆ</h4>

```python
import os
from slack_bolt import App

# í† í° ì„¤ì •
SLACK_SIGNING_SECRET = os.environ.get('SLACK_SIGNING_SECRET')
SLACK_BOT_TOKEN = os.environ.get('SLACK_BOT_TOKEN')
SLACK_APP_TOKEN = os.environ.get('SLACK_APP_TOKEN')
SLACK_CHANNEL_ID = os.environ.get('SLACK_CHANNEL_ID') # ì•Œë¦¼ ë°›ì„ Channel ì´ë¦„

app = App(
    token=SLACK_BOT_TOKEN,
    signing_secret=SLACK_SIGNING_SECRET
)

def send_notification_to_slack(message: str, channel: str = None):

    try:
        target_channel = channel or SLACK_CHANNEL_ID
        app.client.chat_postMessage(
            channel=target_channel,
            text=message
        )
        print(f"Slack ë©”ì‹œì§€ ì „ì†¡ ì™„ë£Œ: {message}")
    except Exception as e:
        print(f"Slack ë©”ì‹œì§€ ì „ì†¡ ì‹¤íŒ¨: {e}")

if __name__ == "__main__":
    send_notification_to_slack("Test Messageê°€ ì „ì†¡ë˜ì—ˆìŠµë‹ˆë‹¤!")
```

<h4>FastAPI Code</h4>

```python
# Slack ì•Œë¦¼ì„ ë°±ê·¸ë¼ìš´ë“œë¡œ ì²˜ë¦¬
from fastapi import BackgroundTasks

slack_message = f"ğŸš¨ ì¶œì„ ìœ„ë°˜ì´ íƒì§€ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸš¨"
BackgroundTasks.add_task(send_notification_to_slack, slack_message)
```

## ìµœì¢… ê²°ê³¼

ì•„ë˜ì™€ ê°™ì´ Slackì— ì•Œë¦¼ì´ ì˜ ì „ì†¡ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![ìƒˆ ì•±](https://drive.google.com/thumbnail?id=1GfXH85zuRo9ehvBP0yl1GM-Lk3RIdck5&sz=w600){: .align-center}
